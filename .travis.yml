sudo: false
language: ruby
before_install:
  - gem install bundler
notifications:
  email:
    - jon.pascoe@me.com
branches:
  only:
    - master
rvm:
  - 1.9.3
  - 2.0
  - 2.1.10
  - 2.2.6
  - 2.3.3
  - 2.4.0
  - 2.5.9
  - 2.6.8
  - 2.7.4
  - 3.0.2
  - ruby-head
env:
  - RAILS_VERSION='~> 4.2'
  - RAILS_VERSION='~> 5.0'
  - RAILS_VERSION='~> 6.0'
matrix:
  exclude:

    # Rails 6 only runs on ruby 2.5 and up
    - rvm: 1.9.3
      env: RAILS_VERSION='~> 6.0'
    - rvm: 2.0
      env: RAILS_VERSION='~> 6.0'
    - rvm: 2.1.10
      env: RAILS_VERSION='~> 6.0'
    - rvm: 2.2.6
      env: RAILS_VERSION='~> 6.0'
    - rvm: 2.3.3
      env: RAILS_VERSION='~> 6.0'
    - rvm: 2.4.0
      env: RAILS_VERSION='~> 6.0'

    # Rails 5 only runs on ruby 2.3 and up
    - rvm: 1.9.3
      env: RAILS_VERSION='~> 5.0'
    - rvm: 2.0
      env: RAILS_VERSION='~> 5.0'
    - rvm: 2.1.10
      env: RAILS_VERSION='~> 5.0'
    - rvm: 2.2.6
      env: RAILS_VERSION='~> 5.0'
